<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_03) on Sun Apr 01 18:01:57 BST 2012 -->
<title>TransactionManager</title>
<meta name="date" content="2012-04-01">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TransactionManager";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransactionManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../propel/core/transactional/ITransactionManager.html" title="interface in propel.core.transactional"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?propel/core/transactional/TransactionManager.html" target="_top">Frames</a></li>
<li><a href="TransactionManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">propel.core.transactional</div>
<h2 title="Class TransactionManager" class="title">Class TransactionManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>propel.core.transactional.TransactionManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../propel/core/transactional/ITransactionManager.html" title="interface in propel.core.transactional">ITransactionManager</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">TransactionManager</span>
extends java.lang.Object
implements <a href="../../../propel/core/transactional/ITransactionManager.html" title="interface in propel.core.transactional">ITransactionManager</a></pre>
<div class="block">Allows for actions to be executed in a transactional manner, i.e. guarantees that all actions run to completion or rolls back committed
 actions if an exception is thrown.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../propel/core/transactional/TransactionManager.html#TransactionManager()">TransactionManager</a></strong>()</code>
<div class="block">Default constructor</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../propel/core/transactional/TransactionManager.html#add(lombok.Functions.Function0)">add</a></strong>(lombok.Functions.Function0&lt;java.lang.Void&gt;&nbsp;action)</code>
<div class="block">Adds an action without a corresponding rollback action.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../propel/core/transactional/TransactionManager.html#add(lombok.Functions.Function0, lombok.Functions.Function0)">add</a></strong>(lombok.Functions.Function0&lt;java.lang.Void&gt;&nbsp;action,
   lombok.Functions.Function0&lt;java.lang.Void&gt;&nbsp;rollbackAction)</code>
<div class="block">Adds an action and the corresponding rollback action.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../propel/core/transactional/TransactionManager.html#clear()">clear</a></strong>()</code>
<div class="block">Re-initializes the manager to allow for re-use</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../propel/core/transactional/TransactionManager.html#commit()">commit</a></strong>()</code>
<div class="block">Executes all actions, starting at the beginning.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../propel/core/transactional/TransactionManager.html#commitWithRollback()">commitWithRollback</a></strong>()</code>
<div class="block">Executes all actions, starting at the beginning.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;lombok.Functions.Function0&lt;java.lang.Void&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../propel/core/transactional/TransactionManager.html#getActions()">getActions</a></strong>()</code>
<div class="block">A list of actions, executed in a way that guarantees complete success or complete failure.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../propel/core/transactional/TransactionManager.html#getExecutionIndex()">getExecutionIndex</a></strong>()</code>
<div class="block">The index of the action that is executing.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;lombok.Functions.Function0&lt;java.lang.Void&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../propel/core/transactional/TransactionManager.html#getRollbackActions()">getRollbackActions</a></strong>()</code>
<div class="block">If an action fails, the corresponding rollback actions are executed</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../propel/core/transactional/TransactionManager.html#resumeCommit()">resumeCommit</a></strong>()</code>
<div class="block">Executes all actions, starting at the execution index until the end.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../propel/core/transactional/TransactionManager.html#resumeRollback()">resumeRollback</a></strong>()</code>
<div class="block">Rolls back all actions, starting at the last failed action index until the first action.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../propel/core/transactional/TransactionManager.html#rollback()">rollback</a></strong>()</code>
<div class="block">Rolls back transactions from the point where they were left.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../propel/core/transactional/TransactionManager.html#skipCommitStep()">skipCommitStep</a></strong>()</code>
<div class="block">Skips the next commit step.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../propel/core/transactional/TransactionManager.html#skipRollbackStep()">skipRollbackStep</a></strong>()</code>
<div class="block">Skips the next rollback step.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TransactionManager()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TransactionManager</h4>
<pre>public&nbsp;TransactionManager()</pre>
<div class="block">Default constructor</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="clear()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>public&nbsp;void&nbsp;clear()</pre>
<div class="block">Re-initializes the manager to allow for re-use</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../propel/core/transactional/ITransactionManager.html#clear()">clear</a></code>&nbsp;in interface&nbsp;<code><a href="../../../propel/core/transactional/ITransactionManager.html" title="interface in propel.core.transactional">ITransactionManager</a></code></dd>
</dl>
</li>
</ul>
<a name="add(lombok.Functions.Function0)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;void&nbsp;add(lombok.Functions.Function0&lt;java.lang.Void&gt;&nbsp;action)</pre>
<div class="block">Adds an action without a corresponding rollback action. This should only be used for actions that do not alter things.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../propel/core/transactional/ITransactionManager.html#add(lombok.Functions.Function0)">add</a></code>&nbsp;in interface&nbsp;<code><a href="../../../propel/core/transactional/ITransactionManager.html" title="interface in propel.core.transactional">ITransactionManager</a></code></dd>
</dl>
</li>
</ul>
<a name="add(lombok.Functions.Function0, lombok.Functions.Function0)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;void&nbsp;add(lombok.Functions.Function0&lt;java.lang.Void&gt;&nbsp;action,
       lombok.Functions.Function0&lt;java.lang.Void&gt;&nbsp;rollbackAction)</pre>
<div class="block">Adds an action and the corresponding rollback action. If the transaction fails before all actions have been successfully completed then
 the rollback actions are called, so ensure that the rollback action acts as an "undo" operation for the action.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../propel/core/transactional/ITransactionManager.html#add(lombok.Functions.Function0, lombok.Functions.Function0)">add</a></code>&nbsp;in interface&nbsp;<code><a href="../../../propel/core/transactional/ITransactionManager.html" title="interface in propel.core.transactional">ITransactionManager</a></code></dd>
</dl>
</li>
</ul>
<a name="commit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre>public&nbsp;void&nbsp;commit()</pre>
<div class="block">Executes all actions, starting at the beginning. If an exception occurs during the execution of an action then it is thrown.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../propel/core/transactional/ITransactionManager.html#commit()">commit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../propel/core/transactional/ITransactionManager.html" title="interface in propel.core.transactional">ITransactionManager</a></code></dd>
</dl>
</li>
</ul>
<a name="rollback()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollback</h4>
<pre>public&nbsp;void&nbsp;rollback()</pre>
<div class="block">Rolls back transactions from the point where they were left. Call this method if the Commit has failed. If an exception is thrown
 during rollback then the the exception is thrown.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../propel/core/transactional/ITransactionManager.html#rollback()">rollback</a></code>&nbsp;in interface&nbsp;<code><a href="../../../propel/core/transactional/ITransactionManager.html" title="interface in propel.core.transactional">ITransactionManager</a></code></dd>
</dl>
</li>
</ul>
<a name="commitWithRollback()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitWithRollback</h4>
<pre>public&nbsp;void&nbsp;commitWithRollback()
                        throws java.lang.Throwable</pre>
<div class="block">Executes all actions, starting at the beginning. If an exception occurs during the execution of an action, then a rollback takes place.
 The original exception is then thrown. If an exception is throw during rollback, then the actions are not fully reverted and the
 original exception is thrown, while the rollback exception is logged.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../propel/core/transactional/ITransactionManager.html#commitWithRollback()">commitWithRollback</a></code>&nbsp;in interface&nbsp;<code><a href="../../../propel/core/transactional/ITransactionManager.html" title="interface in propel.core.transactional">ITransactionManager</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Throwable</code></dd></dl>
</li>
</ul>
<a name="skipCommitStep()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>skipCommitStep</h4>
<pre>public&nbsp;void&nbsp;skipCommitStep()</pre>
<div class="block">Skips the next commit step. Can be used if the Commit has thrown an exception to increment the executed action index so that the commit
 resumes at the next step, avoiding the same error from happening for the second time.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../propel/core/transactional/ITransactionManager.html#skipCommitStep()">skipCommitStep</a></code>&nbsp;in interface&nbsp;<code><a href="../../../propel/core/transactional/ITransactionManager.html" title="interface in propel.core.transactional">ITransactionManager</a></code></dd>
</dl>
</li>
</ul>
<a name="skipRollbackStep()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>skipRollbackStep</h4>
<pre>public&nbsp;void&nbsp;skipRollbackStep()</pre>
<div class="block">Skips the next rollback step. Can be used if the Commit has thrown an exception to decrement the executed action index so that the
 rollback resumes at the next step, avoiding the same error from happening for the second time.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../propel/core/transactional/ITransactionManager.html#skipRollbackStep()">skipRollbackStep</a></code>&nbsp;in interface&nbsp;<code><a href="../../../propel/core/transactional/ITransactionManager.html" title="interface in propel.core.transactional">ITransactionManager</a></code></dd>
</dl>
</li>
</ul>
<a name="resumeCommit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resumeCommit</h4>
<pre>public&nbsp;void&nbsp;resumeCommit()</pre>
<div class="block">Executes all actions, starting at the execution index until the end. If an exception occurs during the execution of an action then the
 exception is thrown.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../propel/core/transactional/ITransactionManager.html#resumeCommit()">resumeCommit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../propel/core/transactional/ITransactionManager.html" title="interface in propel.core.transactional">ITransactionManager</a></code></dd>
</dl>
</li>
</ul>
<a name="resumeRollback()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resumeRollback</h4>
<pre>public&nbsp;void&nbsp;resumeRollback()</pre>
<div class="block">Rolls back all actions, starting at the last failed action index until the first action. If an exception is thrown during rollback then
 the the exception is thrown.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../propel/core/transactional/ITransactionManager.html#resumeRollback()">resumeRollback</a></code>&nbsp;in interface&nbsp;<code><a href="../../../propel/core/transactional/ITransactionManager.html" title="interface in propel.core.transactional">ITransactionManager</a></code></dd>
</dl>
</li>
</ul>
<a name="getActions()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getActions</h4>
<pre>public&nbsp;java.util.List&lt;lombok.Functions.Function0&lt;java.lang.Void&gt;&gt;&nbsp;getActions()</pre>
<div class="block">A list of actions, executed in a way that guarantees complete success or complete failure.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../propel/core/transactional/ITransactionManager.html#getActions()">getActions</a></code>&nbsp;in interface&nbsp;<code><a href="../../../propel/core/transactional/ITransactionManager.html" title="interface in propel.core.transactional">ITransactionManager</a></code></dd>
</dl>
</li>
</ul>
<a name="getExecutionIndex()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExecutionIndex</h4>
<pre>public&nbsp;int&nbsp;getExecutionIndex()</pre>
<div class="block">The index of the action that is executing. This is useful for determining the index of any actions that fail. This can be then used to
 call the right rollback action.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../propel/core/transactional/ITransactionManager.html#getExecutionIndex()">getExecutionIndex</a></code>&nbsp;in interface&nbsp;<code><a href="../../../propel/core/transactional/ITransactionManager.html" title="interface in propel.core.transactional">ITransactionManager</a></code></dd>
</dl>
</li>
</ul>
<a name="getRollbackActions()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getRollbackActions</h4>
<pre>public&nbsp;java.util.List&lt;lombok.Functions.Function0&lt;java.lang.Void&gt;&gt;&nbsp;getRollbackActions()</pre>
<div class="block">If an action fails, the corresponding rollback actions are executed</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../propel/core/transactional/ITransactionManager.html#getRollbackActions()">getRollbackActions</a></code>&nbsp;in interface&nbsp;<code><a href="../../../propel/core/transactional/ITransactionManager.html" title="interface in propel.core.transactional">ITransactionManager</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransactionManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../propel/core/transactional/ITransactionManager.html" title="interface in propel.core.transactional"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?propel/core/transactional/TransactionManager.html" target="_top">Frames</a></li>
<li><a href="TransactionManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
